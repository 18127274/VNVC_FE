<script src="../javascripts/api.js"></script>
<script type="text/javascript" src="../javascripts/booking.js"> </script>
<script type="text/javascript" src="../javascripts/cart.js"> </script>
<script type="text/javascript" src="../javascripts/nc_service.js"> </script>
<link rel="stylesheet" type="text/css" href="/stylesheets/style.css" />
<link rel="stylesheet" type="text/css" href="/stylesheets/stylebutton.css" />
<img class="card-img" src="/Header.png" alt="..." />

<!--introservice-->
<!--<header class="py-5 bg-light border-bottom mb-4">
            <div class="container">
                <div class="text-center my-4">
                    <h1 class="fw-bolder">Chào mừng bạn đến Đi Chợ Thuê</h1>
                    <img class="card-img" src="/Header.png" alt="..." />
                </div>
            </div>
</header>-->
<!-- Page content-->
<div class="bg-white">
	<div class="container py-5">

		<div class="row">
			<!-- Side widgets-->
			<div class="col-lg-8">
				<!-- Search widget-->

				<div class="row">

<form class="row g-3">
<h3><b>THÔNG TIN NGƯỜI TIÊM</b></h3>
  <div class="col-md-6">
    <label for="validationDefault01" class="form-label"><b>Họ tên người được tiêm</b></label>
    <input type="text" class="form-control" id="validationDefault01"  required>
  </div>
  <div class="col-md-3">
    <label for="validationDefault02" class="form-label"><b>Ngày sinh người tiêm</b></label>
    <input type="date" class="form-control" id="validationDefault02"  required>
  </div>
  
  <div class="col-md-3">
    <label for="validationDefault04" class="form-label"><b>Giới tính</b></label>
    <select class="form-select" id="validationDefault04" required>
      <option selected disabled value="">Choose...</option>
      <option value="">Nữ</option>
	  <option value="">Nam</option>
    </select>
  </div>
  <div class="col-md-6">
    <label for="validationDefault04" class="form-label"><b>Mối quan hệ</b></label>
    <select class="form-select" id="validationDefault04" required>
      <option selected disabled value="">Choose...</option>
      <option value="">Nữ</option>
	  <option value="">Nam</option>
    </select>
  </div>
  <div class="col-md-6">
    <label for="validationDefault01" class="form-label"><b>Số điện thoại</b></label>
    <input type="text" class="form-control" id="validationDefault01"  required>
  </div>
  <div class="col-md-12">
    <label for="validationDefault01" class="form-label"><b>Email</b></label>
    <input type="text" class="form-control" id="validationDefault01"  required>
  </div>
  <div class="col-md-12">
    <label for="validationDefault08" class="form-label"><b>Địa chỉ</b></label>
    <input type="text" class="form-control" id="validationDefault03" required>
  </div> 

  <div class="col-md-4">
    <label for="validationDefault05" class="form-label"><b>Tỉnh/ Thành *</b></label>
    <select class="form-select" id="validationDefault04" required>
      <option selected disabled value="">Choose...</option>
      <option value="">...</option>
	  
    </select>
  </div>

  <div class="col-md-4">
    <label for="validationDefault06" class="form-label"><b>Quận/ Huyện *</b></label>
    <select class="form-select" id="validationDefault04" required>
      <option selected disabled value="">Choose...</option>
      <option value="">...</option>
	  
    </select>
  </div>

  <div class="col-md-4">
    <label for="validationDefault07" class="form-label"><b>Phường/ Xã *</b></label>
    <select class="form-select" id="validationDefault04" required>
      <option selected disabled value="">Choose...</option>
      <option value="">...</option>
	  
    </select>
  </div>
  
  

<h3><b>CHỌN ĐỊA ĐIỂM MONG MUỐN TIÊM</b></h3>
<div class="col-md-6">
    <label for="validationDefault05" class="form-label"><b>Tỉnh/ Thành *</b></label>
    <select class="form-select" id="validationDefault04" required>
      <option selected disabled value="">Choose...</option>
      <option value="">...</option>
	  
    </select>
  </div>
<div class="col-md-6">
    <label for="validationDefault010" class="form-label"><b>Trung tâm VNVC gần quý khách</b></label>
    <select class="form-select" id="validationDefault04" required>
      <option selected disabled value="">Choose...</option>
      <option value="">...</option>
	  
    </select>
  </div>
<div class="col-md-12">
    <label for="validationDefault02" class="form-label"><b>Ngày mong muốn tiêm</b></label>
    <input type="date" class="form-control" id="validationDefault02"  required>
  </div>
</form>






<!-- -->
</div>

			</div>
			<!-- Blog entries-->
<div class=" col-lg-4 py-5">
	<div class="row ">
		<h3><b>DANH SÁCH NGƯỜI TIÊM</b></h3>
				<br>
				<br>
		<div class="col-12">
			<form action="/thanhtoan">
    				<button class="btn btn-primary" type="submit">Thanh toán</button>
			</form>
  		</div>
	</div>
				
</div>


			
		</div>
	</div>
</div>


<script>
	$('#category-tabs li a').click(function () {
		$(this).next('ul').slideToggle('500');
		$(this).find('i').toggleClass('fa-minus fa-plus ')
	});



	/*ham xu ly anh*/
	function Xulyanh(link) {
		link = link.split('d/');
		console.log(link);
		link = link[1];
		console.log(link);
		link = link.split('/');
		console.log(link);
		link = link[0];
		console.log(link);
		return link;
	}
</script>




<script type='text/x-handlebars-template' id='service-table'></script>
<script type='text/x-handlebars-template' id='service-table1'></script>
<script type='text/x-handlebars-template' id='allservices'></script>


<div id="all-r"></div>
{{!-- them vao gio hang localStorage.setItem("senddata", JSON.stringify(b)); --}}
<script>
	var list_service = '';

	function send_idservice(id) {
		localStorage.setItem("send_data", id);
		window.location.assign("http://localhost:8888/detail");

	}
</script>


{{!-- function hien thi danh sach san pham theo loai san pham --}}

<script>
	function list_service_bycategory(id) {

		document.getElementById("allservicess").innerHTML = "";
		console.log(id);
		for (let i = 1; i < 20; i++) {
			arr_img = arr_img + ',' + 's' + i + '.png';
		}
		arr_img = arr_img.split(',');
		arr_img.shift();

		getlistservice_byidcategory(id, (result) => {
			var birds = result;
			var ele = document.getElementById('allservicess');
			console.log(birds.length);
			for (var i = 0; i < birds.length; i++) {

				var list_arr_service = "";
				console.log("anh ne: " + birds[i].image);
				ele.innerHTML = ele.innerHTML +
					"<div class=\"col-lg-6\">" +
					"<div class=\"card mb-4\">" +
					"<a href=\"#!\">" +
					"<img class=\"card-img-top\" src=\"https://drive.google.com/uc?export=view&id="+Xulyanh(""+birds[i].image+"")+"\">" +
					"</a>" +
					"<div class=\"card-body\">" +

					"<h2 class=\"card-title h4\">" + birds[i].tenSP + "</h2>" + birds[i].giaTien + '&nbsp' + "VNĐ" + "<br>" + "Số lượng còn lại: " + birds[i].sl +
					"<br>" +

					"<a class=\"w-55 btn btn-primary\" onclick=\"send_idservice(" + birds[i].id + ")\" id=\"detai\"> Chi tiết sản phẩm</a>" +

					"</div>" +
					"</div>" +
					"</div>";
			}
			document.getElementById("allservicess").innerHTML = ele.innerHTML;
			console.log(ele);
		});



	}

</script>

<script>
	var arr_img;
	for (let i = 1; i < 20; i++) {
		arr_img = arr_img + ',' + 's' + i + '.png';
	}
	arr_img = arr_img.split(',');
	arr_img.shift();

	get_allService((result) => {
		var birds = result;
		var ele = document.getElementById('allservicess');
		console.log(birds.length);
		for (var i = 0; i <= birds.length; i++) {

			var list_arr_service = "";

			for (let j = 0; j < result.length; j++) {

				list_arr_service = list_arr_service + ',' + result[j].tenSP;
			}
			list_arr_service = list_arr_service.substr(1);

			console.log(list_arr_service);
			// POPULATE SELECT ELEMENT WITH JSON.
			ele.innerHTML = ele.innerHTML +
				"<div class=\"col-lg-6\">" +
				"<div class=\"card mb-4\">" +
				"<a href=\"https://drive.google.com/file/d/1d3XqbQdX_--6zWB0lmmNEnX64453yciP/view\">" +
				"<img class=\"card-img-top\"  src=\"https://drive.google.com/uc?export=view&id="+Xulyanh(""+birds[i].image+"")+"\">" +
				"</a>" +
				"<div class=\"card-body\">" +

				"<h2 class=\"card-title h4\">" + birds[i].tenSP + "</h2>" + birds[i].giaTien + "VNĐ" + "<br>" + "Số lượng còn lại: " + birds[i].sl + " " +
				"<br>" +


				"<br>" +
				"<a class=\"w-55 btn btn-primary\" onclick=\"send_idservice(" + birds[i].id + ")\" id=\"detai\"> Chi tiết sản phẩm</a>" +

				"</div>" +
				"</div>" +
				"</div>";


		}
		document.getElementById("allservicess").innerHTML = ele;
	});
</script>

<script>
	function search_service(name) {
		document.getElementById("allservicess").innerHTML = "";
		var temp_service = document.getElementById('search_service').value;
		console.log(temp_service);
		getServices_byname(temp_service, (result) => {
			var birds = result;
			var ele = document.getElementById('allservicess');
			for (var i = 0; i <= birds.length; i++) {
				// POPULATE SELECT ELEMENT WITH JSON.
				ele.innerHTML = ele.innerHTML + "<div class=\"col-lg-6\">" +
					"<div class=\"card mb-4\">" +
					"<a href=\"#!\">" +
					"<img class=\"card-img-top\" src=\"https://drive.google.com/uc?export=view&id="+Xulyanh(""+birds[i].image+"")+"\">" +
					"</a>" +
					"<div class=\"card-body\">" +

					"<h2 class=\"card-title h4\">" + birds[i].tenSP + "</h2>" + birds[i].giaTien + "VNĐ" + "<br>" + "Số lượng còn lại: " + birds[i].sl + " " +
					"<br>" +


					"<br>" +
					"<a class=\"w-55 btn btn-primary\" onclick=\"send_idservice(" + birds[i].id + ")\" id=\"detai\"> Chi tiết sản phẩm</a>" +

					"</div>" +
					"</div>" +
					"</div>";
			}
			document.getElementById("allservicess").innerHTML = ele;
		});
	}
</script>



<script>
	var form = document.getElementById('add4');
	form.addEventListener('submit', function (event) {
		event.preventDefault();
		search_service();
	});

</script>


<script>
	(function () {
  'use strict'

  // Fetch all the forms we want to apply custom Bootstrap validation styles to
  var forms = document.querySelectorAll('.needs-validation')

  // Loop over them and prevent submission
  Array.prototype.slice.call(forms)
    .forEach(function (form) {
      form.addEventListener('submit', function (event) {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }

        form.classList.add('was-validated')
      }, false)
    })
})()
</script>
<link rel="stylesheet" type="text/css" href="/stylesheets/styles2.css" />